dist: xenial
language: python
python:
  - "3.7"
install:
  - pip install -r requirements/dev.txt
script:
  # Run linters
  - mypy -m vatval
  - flake8 vatval tests
  # Run tests
  - python setup.py test
  - coverage run --source=vatval setup.py test
deploy:
  provider: pypi
  server: https://test.pypi.org/simple/
  user: $PYPI_USERNAME
  password: $PYPI_PASSWORD
  on:
    master